<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.3"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "layer": [{"mark": {"type": "bar"}, "encoding": {"color": {"condition": {"test": "(datum.win_rate >= 50)", "value": "steelblue"}, "value": "orange"}, "tooltip": [{"field": "Civilization Name", "title": "Civilization", "type": "nominal"}, {"field": "win_rate", "title": "Winrate", "type": "quantitative"}], "x": {"field": "Civilization Name", "sort": null, "type": "nominal"}, "y": {"axis": {"title": "Win Rate"}, "field": "start", "scale": {"domain": [40, 60]}, "type": "quantitative"}, "y2": {"field": "end"}}, "name": "view_8", "transform": [{"calculate": "datum.win_rate >= 50 ? 50 : datum.win_rate", "as": "start"}, {"calculate": "datum.win_rate >= 50 ? datum.win_rate : 50", "as": "end"}]}, {"mark": {"type": "image", "width": 15}, "encoding": {"tooltip": [{"field": "Civilization Name", "title": "Civilization", "type": "nominal"}, {"field": "win_rate", "title": "Winrate", "type": "quantitative"}], "url": {"field": "image_url", "type": "nominal"}, "x": {"field": "Civilization Name", "sort": null, "type": "nominal"}, "y": {"axis": {"title": "Win Rate"}, "field": "start", "scale": {"domain": [40, 60]}, "type": "quantitative"}, "y2": {"field": "end"}}, "transform": [{"calculate": "datum.win_rate >= 50 ? 50 : datum.win_rate", "as": "start"}, {"calculate": "datum.win_rate >= 50 ? datum.win_rate : 50", "as": "end"}]}], "data": {"name": "data-fe66ab865d607fde573e2cd686e1d64c"}, "params": [{"name": "param_8", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales", "views": ["view_8"]}], "title": {"text": ["Civilization Win Rates"], "subtitle": ["in rank Top"], "color": "black", "fontSize": 20, "subtitleFontSize": 15, "anchor": "start", "offset": 5}, "$schema": "https://vega.github.io/schema/vega-lite/v5.16.3.json", "datasets": {"data-fe66ab865d607fde573e2cd686e1d64c": [{"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 56.15384615384615, "pick_rate": 3.848431024274719, "win_count": 73, "loss_count": 57, "games_count": 128, "civilization": "delhi_sultanate", "rating_group": ">1700", "duration_median": 1107, "duration_average": 1212, "duration_maximum": 3007, "duration_minimum": 621, "player_games_count": 130, "duration_percentile95": 2138, "Civilization Name": "Delhi Sultanate", "image_url": "images/delhi_sultanate.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 56.04838709677419, "pick_rate": 7.34162226169331, "win_count": 139, "loss_count": 109, "games_count": 241, "civilization": "jeanne_darc", "rating_group": ">1700", "duration_median": 1110, "duration_average": 1203, "duration_maximum": 5987, "duration_minimum": 39, "player_games_count": 248, "duration_percentile95": 1912, "Civilization Name": "Jeanne Darc", "image_url": "images/jeanne_darc.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 54.54545454545454, "pick_rate": 1.302545885139136, "win_count": 24, "loss_count": 20, "games_count": 44, "civilization": "chinese", "rating_group": ">1700", "duration_median": 1258, "duration_average": 1394, "duration_maximum": 3155, "duration_minimum": 65, "player_games_count": 44, "duration_percentile95": 2376, "Civilization Name": "Chinese", "image_url": "images/chinese.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 54.25101214574899, "pick_rate": 7.312018946121966, "win_count": 134, "loss_count": 113, "games_count": 234, "civilization": "english", "rating_group": ">1700", "duration_median": 1209, "duration_average": 1263, "duration_maximum": 4692, "duration_minimum": 36, "player_games_count": 247, "duration_percentile95": 2111, "Civilization Name": "English", "image_url": "images/english.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 53.55191256830602, "pick_rate": 5.41740674955595, "win_count": 98, "loss_count": 85, "games_count": 174, "civilization": "mongols", "rating_group": ">1700", "duration_median": 1164, "duration_average": 1182, "duration_maximum": 3478, "duration_minimum": 52, "player_games_count": 183, "duration_percentile95": 1923, "Civilization Name": "Mongols", "image_url": "images/mongols.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 52.74725274725275, "pick_rate": 2.693901716992303, "win_count": 48, "loss_count": 43, "games_count": 91, "civilization": "abbasid_dynasty", "rating_group": ">1700", "duration_median": 1209, "duration_average": 1261, "duration_maximum": 2978, "duration_minimum": 150, "player_games_count": 91, "duration_percentile95": 1999, "Civilization Name": "Abbasid Dynasty", "image_url": "images/abbasid_dynasty.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 52.60770975056689, "pick_rate": 13.0550621669627, "win_count": 232, "loss_count": 209, "games_count": 411, "civilization": "zhu_xis_legacy", "rating_group": ">1700", "duration_median": 1209, "duration_average": 1305, "duration_maximum": 3679, "duration_minimum": 36, "player_games_count": 441, "duration_percentile95": 2252, "Civilization Name": "Zhu Xis Legacy", "image_url": "images/zhu_xis_legacy.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 51.79856115107913, "pick_rate": 4.114860864416815, "win_count": 72, "loss_count": 67, "games_count": 138, "civilization": "ottomans", "rating_group": ">1700", "duration_median": 1230, "duration_average": 1300, "duration_maximum": 2892, "duration_minimum": 268, "player_games_count": 139, "duration_percentile95": 1950, "Civilization Name": "Ottomans", "image_url": "images/ottomans.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 50.44843049327354, "pick_rate": 13.20307874481942, "win_count": 225, "loss_count": 221, "games_count": 420, "civilization": "byzantines", "rating_group": ">1700", "duration_median": 1213, "duration_average": 1320, "duration_maximum": 5987, "duration_minimum": 61, "player_games_count": 446, "duration_percentile95": 2326, "Civilization Name": "Byzantines", "image_url": "images/byzantines.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 49.53271028037383, "pick_rate": 3.167554766133807, "win_count": 53, "loss_count": 54, "games_count": 104, "civilization": "rus", "rating_group": ">1700", "duration_median": 1270, "duration_average": 1399, "duration_maximum": 3403, "duration_minimum": 117, "player_games_count": 107, "duration_percentile95": 2589, "Civilization Name": "Rus", "image_url": "images/rus.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 47.59358288770053, "pick_rate": 5.535820011841326, "win_count": 89, "loss_count": 98, "games_count": 179, "civilization": "order_of_the_dragon", "rating_group": ">1700", "duration_median": 1202, "duration_average": 1297, "duration_maximum": 3891, "duration_minimum": 39, "player_games_count": 187, "duration_percentile95": 2277, "Civilization Name": "Order Of The Dragon", "image_url": "images/order_of_the_dragon.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 46.8013468013468, "pick_rate": 8.792184724689164, "win_count": 139, "loss_count": 158, "games_count": 284, "civilization": "ayyubids", "rating_group": ">1700", "duration_median": 1182, "duration_average": 1285, "duration_maximum": 3996, "duration_minimum": 37, "player_games_count": 297, "duration_percentile95": 2339, "Civilization Name": "Ayyubids", "image_url": "images/ayyubids.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 46.05263157894737, "pick_rate": 6.74955595026643, "win_count": 105, "loss_count": 123, "games_count": 220, "civilization": "malians", "rating_group": ">1700", "duration_median": 1239, "duration_average": 1305, "duration_maximum": 3339, "duration_minimum": 37, "player_games_count": 228, "duration_percentile95": 2112, "Civilization Name": "Malians", "image_url": "images/malians.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 45.78947368421053, "pick_rate": 5.624629958555358, "win_count": 87, "loss_count": 103, "games_count": 184, "civilization": "holy_roman_empire", "rating_group": ">1700", "duration_median": 1270, "duration_average": 1414, "duration_maximum": 4692, "duration_minimum": 230, "player_games_count": 190, "duration_percentile95": 2806, "Civilization Name": "Holy Roman Empire", "image_url": "images/holy_roman_empire.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 43.82022471910113, "pick_rate": 10.53878034339846, "win_count": 156, "loss_count": 200, "games_count": 340, "civilization": "japanese", "rating_group": ">1700", "duration_median": 1216, "duration_average": 1314, "duration_maximum": 4157, "duration_minimum": 42, "player_games_count": 356, "duration_percentile95": 2454, "Civilization Name": "Japanese", "image_url": "images/japanese.png"}, {"rank_level": "\u2265conqueror_4", "rating": ">1700", "patch": "370,404", "win_rate": 34.09090909090909, "pick_rate": 1.302545885139136, "win_count": 15, "loss_count": 29, "games_count": 42, "civilization": "french", "rating_group": ">1700", "duration_median": 1254, "duration_average": 1396, "duration_maximum": 4157, "duration_minimum": 40, "player_games_count": 44, "duration_percentile95": 2233, "Civilization Name": "French", "image_url": "images/french.png"}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.3"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "layer": [{"mark": {"type": "bar"}, "encoding": {"color": {"condition": {"test": "(datum.win_rate >= 50)", "value": "steelblue"}, "value": "orange"}, "tooltip": [{"field": "Civilization Name", "title": "Civilization", "type": "nominal"}, {"field": "win_rate", "title": "Winrate", "type": "quantitative"}], "x": {"field": "Civilization Name", "sort": null, "type": "nominal"}, "y": {"axis": {"title": "Win Rate"}, "field": "start", "scale": {"domain": [40, 60]}, "type": "quantitative"}, "y2": {"field": "end"}}, "name": "view_7", "transform": [{"calculate": "datum.win_rate >= 50 ? 50 : datum.win_rate", "as": "start"}, {"calculate": "datum.win_rate >= 50 ? datum.win_rate : 50", "as": "end"}]}, {"mark": {"type": "image", "width": 15}, "encoding": {"tooltip": [{"field": "Civilization Name", "title": "Civilization", "type": "nominal"}, {"field": "win_rate", "title": "Winrate", "type": "quantitative"}], "url": {"field": "image_url", "type": "nominal"}, "x": {"field": "Civilization Name", "sort": null, "type": "nominal"}, "y": {"axis": {"title": "Win Rate"}, "field": "start", "scale": {"domain": [40, 60]}, "type": "quantitative"}, "y2": {"field": "end"}}, "transform": [{"calculate": "datum.win_rate >= 50 ? 50 : datum.win_rate", "as": "start"}, {"calculate": "datum.win_rate >= 50 ? datum.win_rate : 50", "as": "end"}]}], "data": {"name": "data-222d8e11740a1b9a05c3a3ab79b601c9"}, "params": [{"name": "param_7", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales", "views": ["view_7"]}], "title": {"text": ["Civilization Win Rates"], "subtitle": ["in rank Conqueror"], "color": "black", "fontSize": 20, "subtitleFontSize": 15, "anchor": "start", "offset": 5}, "$schema": "https://vega.github.io/schema/vega-lite/v5.16.3.json", "datasets": {"data-222d8e11740a1b9a05c3a3ab79b601c9": [{"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 54.31472081218273, "pick_rate": 8.817276490992503, "win_count": 856, "loss_count": 720, "games_count": 1522, "civilization": "jeanne_darc", "rating_group": ">1400", "duration_median": 1147, "duration_average": 1242, "duration_maximum": 5987, "duration_minimum": 37, "player_games_count": 1576, "duration_percentile95": 2216, "Civilization Name": "Jeanne Darc", "image_url": "images/jeanne_darc.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 54.10036719706243, "pick_rate": 4.570885084480251, "win_count": 442, "loss_count": 375, "games_count": 794, "civilization": "mongols", "rating_group": ">1400", "duration_median": 1188, "duration_average": 1246, "duration_maximum": 6267, "duration_minimum": 37, "player_games_count": 817, "duration_percentile95": 2104, "Civilization Name": "Mongols", "image_url": "images/mongols.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 52.46478873239436, "pick_rate": 3.177800156652121, "win_count": 298, "loss_count": 270, "games_count": 559, "civilization": "delhi_sultanate", "rating_group": ">1400", "duration_median": 1122, "duration_average": 1200, "duration_maximum": 3066, "duration_minimum": 42, "player_games_count": 568, "duration_percentile95": 2243, "Civilization Name": "Delhi Sultanate", "image_url": "images/delhi_sultanate.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 52.19271155033972, "pick_rate": 9.057849390175674, "win_count": 845, "loss_count": 774, "games_count": 1557, "civilization": "ayyubids", "rating_group": ">1400", "duration_median": 1191, "duration_average": 1259, "duration_maximum": 4236, "duration_minimum": 37, "player_games_count": 1619, "duration_percentile95": 2160, "Civilization Name": "Ayyubids", "image_url": "images/ayyubids.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 51.87580853816301, "pick_rate": 8.64943493342285, "win_count": 802, "loss_count": 744, "games_count": 1476, "civilization": "english", "rating_group": ">1400", "duration_median": 1288, "duration_average": 1363, "duration_maximum": 9451, "duration_minimum": 36, "player_games_count": 1546, "duration_percentile95": 2422, "Civilization Name": "English", "image_url": "images/english.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 51.85011709601874, "pick_rate": 11.94472418037373, "win_count": 1107, "loss_count": 1028, "games_count": 2005, "civilization": "zhu_xis_legacy", "rating_group": ">1400", "duration_median": 1203, "duration_average": 1288, "duration_maximum": 4720, "duration_minimum": 35, "player_games_count": 2135, "duration_percentile95": 2274, "Civilization Name": "Zhu Xis Legacy", "image_url": "images/zhu_xis_legacy.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 51.45180023228804, "pick_rate": 4.817052702249077, "win_count": 443, "loss_count": 418, "games_count": 840, "civilization": "malians", "rating_group": ">1400", "duration_median": 1269, "duration_average": 1343, "duration_maximum": 7436, "duration_minimum": 36, "player_games_count": 861, "duration_percentile95": 2220, "Civilization Name": "Malians", "image_url": "images/malians.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 51.29811996418979, "pick_rate": 6.249300660176793, "win_count": 573, "loss_count": 544, "games_count": 1084, "civilization": "ottomans", "rating_group": ">1400", "duration_median": 1263, "duration_average": 1334, "duration_maximum": 6267, "duration_minimum": 36, "player_games_count": 1117, "duration_percentile95": 2292, "Civilization Name": "Ottomans", "image_url": "images/ottomans.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 49.40711462450593, "pick_rate": 4.246391406512252, "win_count": 375, "loss_count": 384, "games_count": 746, "civilization": "holy_roman_empire", "rating_group": ">1400", "duration_median": 1225, "duration_average": 1340, "duration_maximum": 4817, "duration_minimum": 39, "player_games_count": 759, "duration_percentile95": 2555, "Civilization Name": "Holy Roman Empire", "image_url": "images/holy_roman_empire.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 48.81889763779527, "pick_rate": 3.552646301891015, "win_count": 310, "loss_count": 325, "games_count": 622, "civilization": "rus", "rating_group": ">1400", "duration_median": 1363, "duration_average": 1429, "duration_maximum": 4432, "duration_minimum": 37, "player_games_count": 635, "duration_percentile95": 2585, "Civilization Name": "Rus", "image_url": "images/rus.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 47.18162839248434, "pick_rate": 2.679870202528813, "win_count": 226, "loss_count": 253, "games_count": 476, "civilization": "abbasid_dynasty", "rating_group": ">1400", "duration_median": 1284, "duration_average": 1364, "duration_maximum": 3651, "duration_minimum": 64, "player_games_count": 479, "duration_percentile95": 2352, "Civilization Name": "Abbasid Dynasty", "image_url": "images/abbasid_dynasty.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 47.12379199263691, "pick_rate": 12.15732348662862, "win_count": 1024, "loss_count": 1149, "games_count": 2039, "civilization": "byzantines", "rating_group": ">1400", "duration_median": 1251, "duration_average": 1329, "duration_maximum": 5987, "duration_minimum": 36, "player_games_count": 2173, "duration_percentile95": 2337, "Civilization Name": "Byzantines", "image_url": "images/byzantines.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 47.01492537313433, "pick_rate": 1.499384580955578, "win_count": 126, "loss_count": 142, "games_count": 268, "civilization": "chinese", "rating_group": ">1400", "duration_median": 1292, "duration_average": 1378, "duration_maximum": 3500, "duration_minimum": 39, "player_games_count": 268, "duration_percentile95": 2531, "Civilization Name": "Chinese", "image_url": "images/chinese.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 46.3681592039801, "pick_rate": 5.622692178583417, "win_count": 466, "loss_count": 539, "games_count": 975, "civilization": "order_of_the_dragon", "rating_group": ">1400", "duration_median": 1219, "duration_average": 1322, "duration_maximum": 7436, "duration_minimum": 35, "player_games_count": 1005, "duration_percentile95": 2414, "Civilization Name": "Order Of The Dragon", "image_url": "images/order_of_the_dragon.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 45.09018036072144, "pick_rate": 11.16705829696766, "win_count": 900, "loss_count": 1096, "games_count": 1894, "civilization": "japanese", "rating_group": ">1400", "duration_median": 1232, "duration_average": 1318, "duration_maximum": 9451, "duration_minimum": 39, "player_games_count": 1996, "duration_percentile95": 2363, "Civilization Name": "Japanese", "image_url": "images/japanese.png"}, {"rank_level": "conqueror", "rating": ">1400", "patch": "370,404", "win_rate": 45.0, "pick_rate": 1.790309947409645, "win_count": 144, "loss_count": 176, "games_count": 316, "civilization": "french", "rating_group": ">1400", "duration_median": 1196, "duration_average": 1286, "duration_maximum": 4243, "duration_minimum": 40, "player_games_count": 320, "duration_percentile95": 2277, "Civilization Name": "French", "image_url": "images/french.png"}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>